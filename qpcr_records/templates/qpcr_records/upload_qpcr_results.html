{% extends 'qpcr_records/base.html' %} {% block content %} {% load crispy_forms_tags %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<div class="container">
    <h1 class="display-h4">Upload qPCR Results</h1>
    <form class="needs-validation col-4 p-0 my-3" action="/qpcr_records/" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-5 custom-file">
            <input type="file" class="custom-file-input" id="customFile" accept=".xls,.xlsx" name="Browse">
            <label class="custom-file-label" for="customFile">Choose file...</label>
        </div>
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>
</div>
<script>
window.addEventListener("load", () => {
    var barcodeInput = document.getElementById('customFile');
    validateForm(barcodeInput, () => {
        var file_extension = barcodeInput.value.split('.').pop().toLowerCase();
        console.log(file_extension)
        return file_extension == 'xls' || file_extension == 'xlsx';
    }, "File type not allowed.");
    bsCustomFileInput.init();

});
</script>
{% endblock %}
